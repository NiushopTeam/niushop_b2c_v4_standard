(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["otherpages/diy/diy/diy"],{"470b":function(e,n,t){"use strict";var i={diyIndexPage:function(){return t.e("components/diy-index-page/diy-index-page").then(t.bind(null,"77f1"))},diyGroup:function(){return t.e("components/diy-group/diy-group").then(t.bind(null,"967f"))},diyBottomNav:function(){return t.e("components/diy-bottom-nav/diy-bottom-nav").then(t.bind(null,"10f0"))},loadingCover:function(){return t.e("components/loading-cover/loading-cover").then(t.bind(null,"cd2f"))}},o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.$util.img(e.bgUrl));e.$mp.data=Object.assign({},{$root:{g0:t}})},c=[];t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return i}))},5742:function(e,n,t){"use strict";(function(e){t("6b76");i(t("66fd"));var n=i(t("9b2b"));function i(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"6cab":function(e,n,t){"use strict";t.r(n);var i=t("cc3f"),o=t.n(i);for(var c in i)"default"!==c&&function(e){t.d(n,e,(function(){return i[e]}))}(c);n["default"]=o.a},"6f7a":function(e,n,t){"use strict";var i=t("798f"),o=t.n(i);o.a},"798f":function(e,n,t){},"930b":function(e,n,t){"use strict";var i=t("e3d2"),o=t.n(i);o.a},"9b2b":function(e,n,t){"use strict";t.r(n);var i=t("470b"),o=t("6cab");for(var c in o)"default"!==c&&function(e){t.d(n,e,(function(){return o[e]}))}(c);t("6f7a"),t("930b");var a,r=t("f0c5"),u=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"b2008c12",null,!1,i["a"],a);n["default"]=u.exports},cc3f:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;o(t("eab3"));var i=o(t("4c22"));function o(e){return e&&e.__esModule?e:{default:e}}var c=function(){t.e("components/diy-horz-blank/diy-horz-blank").then(function(){return resolve(t("c00c"))}.bind(null,t)).catch(t.oe)},a=function(){t.e("components/diy-horz-line/diy-horz-line").then(function(){return resolve(t("faa0"))}.bind(null,t)).catch(t.oe)},r=function(){t.e("components/diy-coupon/diy-coupon").then(function(){return resolve(t("4e49"))}.bind(null,t)).catch(t.oe)},u=function(){t.e("components/diy-goods-list/diy-goods-list").then(function(){return resolve(t("cdf8"))}.bind(null,t)).catch(t.oe)},d=function(){t.e("components/diy-img-ads/diy-img-ads").then(function(){return resolve(t("9456"))}.bind(null,t)).catch(t.oe)},l=function(){t.e("components/diy-graphic-nav/diy-graphic-nav").then(function(){return resolve(t("75e3"))}.bind(null,t)).catch(t.oe)},s=function(){t.e("components/diy-notice/diy-notice").then(function(){return resolve(t("86d7"))}.bind(null,t)).catch(t.oe)},f=function(){Promise.all([t.e("common/vendor"),t.e("components/diy-rich-text/diy-rich-text")]).then(function(){return resolve(t("5dba"))}.bind(null,t)).catch(t.oe)},h=function(){Promise.all([t.e("common/vendor"),t.e("components/diy-rubik-cube/diy-rubik-cube")]).then(function(){return resolve(t("8309"))}.bind(null,t)).catch(t.oe)},g=function(){t.e("components/diy-search/diy-search").then(function(){return resolve(t("3779"))}.bind(null,t)).catch(t.oe)},y=function(){t.e("components/diy-text-nav/diy-text-nav").then(function(){return resolve(t("a59e"))}.bind(null,t)).catch(t.oe)},p=function(){t.e("components/diy-title/diy-title").then(function(){return resolve(t("8baf"))}.bind(null,t)).catch(t.oe)},m=function(){t.e("components/diy-video/diy-video").then(function(){return resolve(t("70a9"))}.bind(null,t)).catch(t.oe)},b=function(){t.e("components/uni-popup/uni-popup").then(function(){return resolve(t("d380"))}.bind(null,t)).catch(t.oe)},v=function(){t.e("components/diy-seckill/diy-seckill").then(function(){return resolve(t("6236"))}.bind(null,t)).catch(t.oe)},x=function(){t.e("components/diy-bottom-nav/diy-bottom-nav").then(function(){return resolve(t("10f0"))}.bind(null,t)).catch(t.oe)},_=function(){t.e("components/diy-pintuan/diy-pintuan").then(function(){return resolve(t("6f59"))}.bind(null,t)).catch(t.oe)},S=function(){t.e("components/diy-groupbuy/diy-groupbuy").then(function(){return resolve(t("96d2"))}.bind(null,t)).catch(t.oe)},H=function(){t.e("components/diy-fenxiao-goods-list/diy-fenxiao-goods-list").then(function(){return resolve(t("0b9c"))}.bind(null,t)).catch(t.oe)},D=function(){t.e("components/diy-goods-level-category/diy-goods-level-category").then(function(){return resolve(t("42a9"))}.bind(null,t)).catch(t.oe)},w=function(){t.e("components/diy-float-btn/diy-float-btn").then(function(){return resolve(t("023b"))}.bind(null,t)).catch(t.oe)},$=function(){t.e("components/diy-live/diy-live").then(function(){return resolve(t("3dd0"))}.bind(null,t)).catch(t.oe)},I=function(){t.e("components/diy-bargain/diy-bargain").then(function(){return resolve(t("025b"))}.bind(null,t)).catch(t.oe)},C=function(){t.e("components/diy-index-page/diy-index-page").then(function(){return resolve(t("77f1"))}.bind(null,t)).catch(t.oe)},N=function(){t.e("components/diy-group/diy-group").then(function(){return resolve(t("967f"))}.bind(null,t)).catch(t.oe)},k={components:{diyHorzBlank:c,diyHorzLine:a,diyCoupon:r,diyGoodsList:u,diyImgAds:d,diyGraphicNav:l,diyNotice:s,diyRichText:f,diyRubikCube:h,diySearch:g,diyTextNav:y,diyTitle:p,diyVideo:m,uniPopup:b,diySeckill:v,diyBottomNav:x,diyPintuan:_,diyGroupBuy:S,diyFenxiaoGoodsList:H,diyGoodsLevelCategory:D,diyFloatBtn:w,diyLive:$,diyBargain:I,diyIndexPage:C,diyGroup:N},computed:{bgColor:function(){var e="";return this.diyData&&this.diyData.global&&(e=this.diyData.global.bgColor),e},bgUrl:function(){var e="";return this.diyData&&this.diyData.global&&(e=this.diyData.global.bgUrl),e},openBottomNav:function(){var e=!1;return this.diyData&&this.diyData.global&&(e=this.diyData.global.openBottomNav),e},scrollHeight:function(){return void 0!=this.pageHeight&&void 0!=this.headerHeight&&void 0!=this.bottomHeight?"calc("+this.pageHeight+" - "+this.headerHeight+" - "+this.bottomHeight+")":"100vh"},scrollTopHeight:function(){return void 0!=this.pageHeight&&void 0!=this.headerHeight&&void 0!=this.bottomHeight?"calc("+this.pageHeight+" - "+this.headerHeight+" - "+this.bottomHeight+" - 80rpx)":"100vh"}},data:function(){return{diyData:{},siteInfo:null,memberId:0,name:"",pageHeight:"0",headerHeight:"0",bottomHeight:"0",popWindowBox:null,topIndexValue:null}},mixins:[i.default],onPullDownRefresh:function(){this.refresh()},onLoad:function(n){if(this.name=n.name||"",this.name){if(this.$langConfig.refresh(),this.refresh(),n.source_member&&e.setStorageSync("source_member",n.source_member),n.scene){var t=decodeURIComponent(n.scene);t=t.split("&"),t.length&&t.forEach((function(n){-1!=n.indexOf("source_member")&&e.setStorageSync("source_member",n.split("-")[1])}))}}else this.$util.redirectTo("/pages/index/index/index",{},"reLaunch");this.getHeight()},onShow:function(){e.getStorageSync("token")&&this.getMemberId()},methods:{getHeight:function(){var n=this;e.getSystemInfo({success:function(e){n.pageHeight=e.windowHeight+"px"}}),this.$nextTick((function(){var t=e.createSelectorQuery().in(n);t.select(".page-header").boundingClientRect((function(e){n.headerHeight=e.height+"px"})).exec()})),this.$nextTick((function(){var t=e.createSelectorQuery().in(n);t.select(".page-bottom").boundingClientRect((function(e){n.bottomHeight=e.height+"px"})).exec()}))},getDiyInfo:function(){var n=this;this.$api.sendRequest({url:"/api/diyview/info",data:{name:this.name},success:function(t){if(0==t.code&&t.data){var i=t.data;if(i.value){n.diyData=JSON.parse(i.value),e.setNavigationBarTitle({title:n.diyData.global.title});for(var o=0;o<n.diyData.value.length;o++)"TopCategory"==n.diyData.value[o].controller&&(n.topIndexValue=n.diyData.value[o]),"PopWindow"==n.diyData.value[o].controller&&(n.popWindowBox=n.diyData.value[o],n.popWindowBox.imageUrl=n.$util.img(n.popWindowBox.imageUrl),setTimeout((function(){if(null!=e.getStorageSync("index_wap_floating_layer")&&""!=e.getStorageSync("index_wap_floating_layer")){var t=JSON.parse(e.getStorageSync("index_wap_floating_layer"));t.closeNum<Number(n.diyData.value[o].showCount)&&n.$refs.uniPopupWindow.open()}else n.$refs.uniPopupWindow.open()}),500))}e.stopPullDownRefresh(),n.$refs.loadingCover&&n.$refs.loadingCover.hide()}else n.$refs.loadingCover&&n.$refs.loadingCover.hide()},fail:function(e){n.$refs.loadingCover&&n.$refs.loadingCover.hide()}})},closeNum:function(){this.$refs.uniPopupWindow.close();var n=1;if(e.getStorageSync("diy_wap_floating_layer")){var t=JSON.parse(e.getStorageSync("diy_wap_floating_layer"));n=++t.closeNum}e.setStorageSync("diy_wap_floating_layer",JSON.stringify({closeNum:n}))},refresh:function(){this.getDiyInfo(),this.getDefaultImg()},redirectTo:function(e){this.$util.diyRedirectTo(e)},getDefaultImg:function(){this.$api.sendRequest({url:"/api/config/defaultimg",success:function(n){var t=n.data;0==n.code&&t&&e.setStorageSync("default_img",JSON.stringify(t))}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(n){n.code>=0&&(e.memberId=n.data)}})},onShareAppMessage:function(e){var n="";this.siteInfo&&(n=this.siteInfo.title);var t="/otherpages/diy/diy/diy?name="+this.name;return this.memberId&&(t+="&source_member="+this.memberId),{title:n,path:t,success:function(e){},fail:function(e){}}}}};n.default=k}).call(this,t("543d")["default"])},e3d2:function(e,n,t){}},[["5742","common/runtime","common/vendor"]]]);