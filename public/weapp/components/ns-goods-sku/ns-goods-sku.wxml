<view data-event-opts="{{[['touchmove',[['',['$event']]]]]}}" class="goods-sku" catchtouchmove="__e"><uni-popup class="sku-layer vue-ref" vue-id="18423b42-1" type="bottom" data-ref="skuPopup" bind:__l="__l" vue-slots="{{['default']}}"><view class="sku-info" style="{{'height:'+(systemInfo.windowHeight*1+'px')+';'}}"><view class="header"><view class="img-wrap"><image src="{{$root.g0}}" data-event-opts="{{[['error',[['imageError']]]]}}" binderror="__e"></image></view><view class="main"><view class="price-wrap"><text class="price ns-text-color ns-font-size-lg">{{"￥"+goodsDetail.show_price}}</text></view><view class="stock">{{"库存"+goodsDetail.stock+goodsDetail.unit}}</view><view class="sku-name ns-font-size-sm"><block wx:if="{{goodsDetail.sku_spec_format}}">已选择：<block wx:for="{{goodsDetail.sku_spec_format}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text>{{item.spec_name}}</text></block></block></view></view><view data-event-opts="{{[['tap',[['closeSkuPopup']]]]}}" class="sku-close iconfont iconclose" bindtap="__e"></view></view><view class="body-item"><scroll-view class="wrap" scroll-y="{{true}}"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="sku-list-wrap"><text class="title ns-font-size-base">{{item.$orig.spec_name}}</text><block wx:for="{{item.l0}}" wx:for-item="item_value" wx:for-index="index_value" wx:key="index_value"><view data-event-opts="{{[['tap',[['change',['$0','$1'],[[['goodsDetail.goods_spec_format','',index],['value','',index_value,'sku_id']],[['goodsDetail.goods_spec_format','',index],['value','',index_value,'spec_id']]]]]]]}}" class="{{['items ns-border-color-gray ns-font-size-base',(item_value.$orig['selected']||skuId==item_value.$orig.sku_id)?'selected':'',(item_value.$orig['disabled']||!item_value.$orig['selected']&&disabled)?'disabled':'']}}" bindtap="__e"><block wx:if="{{item_value.$orig.image}}"><image src="{{item_value.g1}}" data-event-opts="{{[['error',[['valueImageError',[index,index_value]]]]]}}" binderror="__e"></image></block><text>{{item_value.$orig.spec_value_name}}</text></view></block></view></block><view class="number-wrap"><view class="number-line"><text class="title ns-font-size-base">购买数量</text><block wx:if="{{limitNumber>0}}"><text class="limit-txt ns-font-size-sm">{{"(每人限购"+limitNumber+"件)"}}</text></block><block><block wx:if="{{maxBuy>0&&minBuy>1}}"><text class="limit-txt ns-font-size-sm ns-text-color">{{"("+minBuy+"件起售，限购"+maxBuy+"件)"}}</text></block><block wx:else><block wx:if="{{maxBuy>0}}"><text class="limit-txt ns-font-size-sm ns-text-color">{{"(限购"+maxBuy+"件)"}}</text></block><block wx:else><block wx:if="{{minBuy>1}}"><text class="limit-txt ns-font-size-sm ns-text-color">{{"("+minBuy+"件起售)"}}</text></block></block></block></block><view class="number"><button class="decrease ns-border-color-gray" type="default" data-event-opts="{{[['tap',[['changeNum',['-']]]]]}}" bindtap="__e">-</button><input class="uni-input ns-border-color-gray ns-font-size-sm" type="number" placeholder="0" data-event-opts="{{[['blur',[['blur',['$event']]]],['input',[['__set_model',['','number','$event',[]]],['keyInput',[false]]]]]}}" value="{{number}}" bindblur="__e" bindinput="__e"/><button class="increase ns-border-color-gray" type="default" data-event-opts="{{[['tap',[['changeNum',['+']]]]]}}" bindtap="__e">+</button></view></view></view></scroll-view></view><view data-event-opts="{{[['tap',[['confirm']]]]}}" class="footer" bindtap="__e"><block wx:if="{{goodsDetail.stock&&goodsDetail.stock!=0}}"><button type="primary">确定</button></block><block wx:else><button class="btn-disabled" type="primary">确定</button></block></view></view></uni-popup><ns-show-toast vue-id="18423b42-2" bind:__l="__l"></ns-show-toast></view>