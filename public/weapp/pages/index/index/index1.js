(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index/index1"],{"184b":function(n,e,t){"use strict";var o={nsNavbar:function(){return t.e("components/ns-navbar/ns-navbar").then(t.bind(null,"77f7"))},nsStore:function(){return Promise.all([t.e("common/vendor"),t.e("components/ns-store/ns-store")]).then(t.bind(null,"3c74"))},diyText:function(){return t.e("components/diy-text/diy-text").then(t.bind(null,"583d"))},diyTextNav:function(){return t.e("components/diy-text-nav/diy-text-nav").then(t.bind(null,"a59e"))},diyNotice:function(){return t.e("components/diy-notice/diy-notice").then(t.bind(null,"86d7"))},diyGraphicNav:function(){return t.e("components/diy-graphic-nav/diy-graphic-nav").then(t.bind(null,"75e3"))},diyImgAds:function(){return t.e("components/diy-img-ads/diy-img-ads").then(t.bind(null,"9456"))},diySearch:function(){return t.e("components/diy-search/diy-search").then(t.bind(null,"3779"))},diyTitle:function(){return t.e("components/diy-title/diy-title").then(t.bind(null,"8baf"))},diyRichText:function(){return Promise.all([t.e("common/vendor"),t.e("components/diy-rich-text/diy-rich-text")]).then(t.bind(null,"5dba"))},uniPopup:function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,"d380"))},diyHorzLine:function(){return t.e("components/diy-horz-line/diy-horz-line").then(t.bind(null,"faa0"))},diyHorzBlank:function(){return t.e("components/diy-horz-blank/diy-horz-blank").then(t.bind(null,"c00c"))},diyCoupon:function(){return t.e("components/diy-coupon/diy-coupon").then(t.bind(null,"4e49"))},diyGoodsList:function(){return t.e("components/diy-goods-list/diy-goods-list").then(t.bind(null,"cdf8"))},diyRubikCube:function(){return Promise.all([t.e("common/vendor"),t.e("components/diy-rubik-cube/diy-rubik-cube")]).then(t.bind(null,"8309"))},diyVideo:function(){return t.e("components/diy-video/diy-video").then(t.bind(null,"70a9"))},diySeckill:function(){return t.e("components/diy-seckill/diy-seckill").then(t.bind(null,"6236"))},diyPintuan:function(){return t.e("components/diy-pintuan/diy-pintuan").then(t.bind(null,"6f59"))},diyGroupbuy:function(){return t.e("components/diy-groupbuy/diy-groupbuy").then(t.bind(null,"96d2"))},diyBargain:function(){return t.e("components/diy-bargain/diy-bargain").then(t.bind(null,"025b"))},diyGoodsLevelCategory:function(){return t.e("components/diy-goods-level-category/diy-goods-level-category").then(t.bind(null,"42a9"))},diyFloatBtn:function(){return t.e("components/diy-float-btn/diy-float-btn").then(t.bind(null,"023b"))},diyLive:function(){return t.e("components/diy-live/diy-live").then(t.bind(null,"3dd0"))},diyBottomNav:function(){return t.e("components/diy-bottom-nav/diy-bottom-nav").then(t.bind(null,"10f0"))},loadingCover:function(){return t.e("components/loading-cover/loading-cover").then(t.bind(null,"cd2f"))},nsShowToast:function(){return Promise.all([t.e("common/vendor"),t.e("components/ns-show-toast/ns-show-toast")]).then(t.bind(null,"f505"))}},i=function(){var n=this,e=n.$createElement,t=(n._self._c,n.$util.img(n.bgUrl)),o=n.__map(n.diyData.value,(function(e,t){var o=n.$util.img(e.imageUrl);return{$orig:n.__get_orig(e),g1:o}}));n.$mp.data=Object.assign({},{$root:{g0:t,l0:o}})},r=[];t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){return o}))},"1e31":function(n,e,t){"use strict";t.r(e);var o=t("184b"),i=t("ae65");for(var r in i)"default"!==r&&function(n){t.d(e,n,(function(){return i[n]}))}(r);t("d2d5"),t("9b1a");var u,c=t("f0c5"),d=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"efdace0e",null,!1,o["a"],u);e["default"]=d.exports},3605:function(n,e,t){},7438:function(n,e,t){"use strict";(function(n){t("6b76");o(t("66fd"));var e=o(t("1e31"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"82f5":function(n,e,t){},"84e2":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(t("4795")),i=(r(t("eab3")),t("bfe4"),r(t("4c22")));function r(n){return n&&n.__esModule?n:{default:n}}function u(n,e,t,o,i,r,u){try{var c=n[r](u),d=c.value}catch(a){return void t(a)}c.done?e(d):Promise.resolve(d).then(o,i)}function c(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function c(n){u(r,o,i,c,d,"next",n)}function d(n){u(r,o,i,c,d,"throw",n)}c(void 0)}))}}var d=function(){Promise.all([t.e("common/vendor"),t.e("components/ns-show-toast/ns-show-toast")]).then(function(){return resolve(t("f505"))}.bind(null,t)).catch(t.oe)},a=function(){t.e("components/diy-horz-blank/diy-horz-blank").then(function(){return resolve(t("c00c"))}.bind(null,t)).catch(t.oe)},l=function(){t.e("components/diy-horz-line/diy-horz-line").then(function(){return resolve(t("faa0"))}.bind(null,t)).catch(t.oe)},s=function(){t.e("components/diy-coupon/diy-coupon").then(function(){return resolve(t("4e49"))}.bind(null,t)).catch(t.oe)},f=function(){t.e("components/diy-goods-list/diy-goods-list").then(function(){return resolve(t("cdf8"))}.bind(null,t)).catch(t.oe)},h=function(){t.e("components/diy-img-ads/diy-img-ads").then(function(){return resolve(t("9456"))}.bind(null,t)).catch(t.oe)},y=function(){t.e("components/diy-graphic-nav/diy-graphic-nav").then(function(){return resolve(t("75e3"))}.bind(null,t)).catch(t.oe)},g=function(){t.e("components/diy-notice/diy-notice").then(function(){return resolve(t("86d7"))}.bind(null,t)).catch(t.oe)},p=function(){Promise.all([t.e("common/vendor"),t.e("components/diy-rich-text/diy-rich-text")]).then(function(){return resolve(t("5dba"))}.bind(null,t)).catch(t.oe)},b=function(){Promise.all([t.e("common/vendor"),t.e("components/diy-rubik-cube/diy-rubik-cube")]).then(function(){return resolve(t("8309"))}.bind(null,t)).catch(t.oe)},m=function(){t.e("components/diy-search/diy-search").then(function(){return resolve(t("3779"))}.bind(null,t)).catch(t.oe)},v=function(){t.e("components/diy-text-nav/diy-text-nav").then(function(){return resolve(t("a59e"))}.bind(null,t)).catch(t.oe)},S=function(){t.e("components/diy-title/diy-title").then(function(){return resolve(t("8baf"))}.bind(null,t)).catch(t.oe)},_=function(){t.e("components/diy-video/diy-video").then(function(){return resolve(t("70a9"))}.bind(null,t)).catch(t.oe)},x=function(){t.e("components/uni-popup/uni-popup").then(function(){return resolve(t("d380"))}.bind(null,t)).catch(t.oe)},w=function(){t.e("components/diy-seckill/diy-seckill").then(function(){return resolve(t("6236"))}.bind(null,t)).catch(t.oe)},I=function(){t.e("components/diy-bottom-nav/diy-bottom-nav").then(function(){return resolve(t("10f0"))}.bind(null,t)).catch(t.oe)},k=function(){t.e("components/diy-pintuan/diy-pintuan").then(function(){return resolve(t("6f59"))}.bind(null,t)).catch(t.oe)},$=function(){t.e("components/diy-groupbuy/diy-groupbuy").then(function(){return resolve(t("96d2"))}.bind(null,t)).catch(t.oe)},P=function(){t.e("components/diy-bargain/diy-bargain").then(function(){return resolve(t("025b"))}.bind(null,t)).catch(t.oe)},D=function(){t.e("components/diy-goods-level-category/diy-goods-level-category").then(function(){return resolve(t("42a9"))}.bind(null,t)).catch(t.oe)},C=function(){t.e("components/diy-float-btn/diy-float-btn").then(function(){return resolve(t("023b"))}.bind(null,t)).catch(t.oe)},N=function(){Promise.all([t.e("common/vendor"),t.e("components/ns-store/ns-store")]).then(function(){return resolve(t("3c74"))}.bind(null,t)).catch(t.oe)},H=function(){t.e("components/diy-live/diy-live").then(function(){return resolve(t("3dd0"))}.bind(null,t)).catch(t.oe)},T=function(){t.e("components/ns-navbar/ns-navbar").then(function(){return resolve(t("77f7"))}.bind(null,t)).catch(t.oe)},R=function(){t.e("components/diy-index-page/diy-index-page").then(function(){return resolve(t("77f1"))}.bind(null,t)).catch(t.oe)},z={components:{diyHorzBlank:a,diyHorzLine:l,diyCoupon:s,diyGoodsList:f,diyImgAds:h,diyGraphicNav:y,diyNotice:g,diyRichText:p,diyRubikCube:b,diySearch:m,diyTextNav:v,diyTitle:S,diyVideo:_,uniPopup:x,diySeckill:w,diyBottomNav:I,diyPintuan:k,diyGroupBuy:$,diyGoodsLevelCategory:D,diyFloatBtn:C,nsStore:N,nsShowToast:d,diyLive:H,diyBargain:P,nsNavbar:T,diyIndexPage:R},data:function(){return{diyData:{},siteInfo:null,memberId:0,id:0,store:{},storeId:0,latitude:null,longitude:null,showStore:!1,isIphoneX:!1,pageHeight:0,headerHeight:0,bottomHeight:0}},onPullDownRefresh:function(){this.getDiyInfo()},watch:{storeId:function(){this.$forceUpdate()}},onLoad:function(e){if(n.hideTabBar(),this.isIphoneX=this.$util.uniappIsIPhoneX(),e.source_member&&n.setStorageSync("source_member",e.source_member),e.scene){var t=decodeURIComponent(e.scene);t=t.split("&"),t.length&&t.forEach((function(e){-1!=e.indexOf("source_member")&&n.setStorageSync("source_member",e.split("-")[1])}))}this.getHeight()},onShow:function(){var e=this;return c(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.store=n.getStorageSync("store")?n.getStorageSync("store"):{},e.store&&(e.storeId=e.store.store_id),e.$langConfig.refresh(),n.getStorageSync("token")&&e.getMemberId(),e.getDefaultImg(),e.getDiyInfo();case 6:case"end":return t.stop()}}),t)})))()},mixins:[i.default],computed:{top:function(){var n=0;return n=this.isIphoneX?180:140,n},bgColor:function(){var n="";return this.diyData&&this.diyData.global&&(n=this.diyData.global.bgColor),n},bgUrl:function(){var n="";return this.diyData&&this.diyData.global&&(n=this.diyData.global.bgUrl),n},bgNav:function(){return this.bgUrl?{background:"url("+this.$util.img(this.bgUrl)+") no-repeat 0 0/100%"}:this.bgColor?{background:this.bgColor}:{background:"#ffffff"}}},methods:{getHeight:function(){var e=this;n.getSystemInfo({success:function(n){console.log(n.windowHeight),e.pageHeight=n.windowHeight,console.log({pageHeight:e.pageHeight})}}),this.$nextTick((function(){var t=n.createSelectorQuery().in(e);t.select(".page-header").boundingClientRect((function(n){e.headerHeight=n.height,console.log({headerHeight:e.headerHeight})})).exec()})),this.$nextTick((function(){var t=n.createSelectorQuery().in(e);t.select(".page-bottom").boundingClientRect((function(n){e.bottomHeight=n.height,console.log({bottomHeight:e.bottomHeight})})).exec()}))},getDiyInfo:function(){var e=this;this.$api.sendRequest({url:"/api/diyview/info",data:{name:"DIYVIEW_INDEX"},success:function(t){if(0!=t.code||!t.data)return e.$refs.loadingCover&&e.$refs.loadingCover.hide(),void(e.diyData={});var o=t.data;if(o.value){e.diyData=JSON.parse(o.value);for(var i=0;i<e.diyData.value.length;i++){if("PopWindow"==e.diyData.value[i].controller){setTimeout((function(){if(null!=n.getStorageSync("index_wap_floating_layer")&&""!=n.getStorageSync("index_wap_floating_layer")){var t=JSON.parse(n.getStorageSync("index_wap_floating_layer"));t.closeNum<e.diyData.value[i].showCount&&e.$refs.uniPopup[0].open()}else e.$refs.uniPopup[0].open()}),500);break}"StoreShow"==e.diyData.value[i].controller&&(e.showStore=!0)}}n.stopPullDownRefresh(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(n){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},closeNum:function(){this.$refs.uniPopup[0].close();var e=1;if(n.getStorageSync("index_wap_floating_layer")){var t=JSON.parse(n.getStorageSync("index_wap_floating_layer"));e=++t.closeNum}n.setStorageSync("index_wap_floating_layer",JSON.stringify({closeNum:e}))},redirectTo:function(n){this.$util.diyRedirectTo(n)},getDefaultImg:function(){this.$api.sendRequest({url:"/api/config/defaultimg",success:function(e){var t=e.data;0==e.code&&t&&n.setStorageSync("default_img",JSON.stringify(t))}})},getMemberId:function(){var n=this;this.$api.sendRequest({url:"/api/member/id",success:function(e){e.code>=0&&(n.memberId=e.data)}})},onShareAppMessage:function(n){var e="";this.siteInfo&&(e=this.siteInfo.site_name);var t="/pages/index/index/index";return this.memberId&&(t+="?source_member="+this.memberId),{title:e,path:t,success:function(n){},fail:function(n){}}}},onReady:function(){}};e.default=z}).call(this,t("543d")["default"])},"9b1a":function(n,e,t){"use strict";var o=t("82f5"),i=t.n(o);i.a},ae65:function(n,e,t){"use strict";t.r(e);var o=t("84e2"),i=t.n(o);for(var r in o)"default"!==r&&function(n){t.d(e,n,(function(){return o[n]}))}(r);e["default"]=i.a},d2d5:function(n,e,t){"use strict";var o=t("3605"),i=t.n(o);i.a}},[["7438","common/runtime","common/vendor"]]]);