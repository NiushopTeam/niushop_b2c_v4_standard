(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/index/index"],{3049:function(e,n,t){},"489e":function(e,n,t){"use strict";var i={uniGrid:function(){return t.e("components/uni-grid/uni-grid").then(t.bind(null,"61a0"))},uniGridItem:function(){return t.e("components/uni-grid-item/uni-grid-item").then(t.bind(null,"93918"))},nsLogin:function(){return Promise.all([t.e("common/vendor"),t.e("components/ns-login/ns-login")]).then(t.bind(null,"37fd"))},loadingCover:function(){return t.e("components/loading-cover/loading-cover").then(t.bind(null,"cd2f"))},diyBottomNav:function(){return t.e("components/diy-bottom-nav/diy-bottom-nav").then(t.bind(null,"10f0"))}},o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.$util.img("upload/uniapp/member/index/bg-2.png")),i=e.$util.img(e.memberInfo.headimg),o=e.$util.getDefaultImage(),r=e.$util.getDefaultImage(),a=e.$lang("login"),u=e.$lang("loginTpis"),m=(parseFloat(e.memberInfo.balance)+parseFloat(e.memberInfo.balance_money)).toFixed(2),l=e.$lang("balance"),c=parseInt(e.memberInfo.point),d=e.$lang("point"),s=e.$lang("coupon"),g=e.$lang("allOrders"),f=e.$lang("seeAllOrders"),p=e.$util.img("upload/uniapp/member/index/order/"+e.themeStyleScore+"_order_1.png"),h=e.$lang("waitPay"),b=e.$util.img("upload/uniapp/member/index/order/"+e.themeStyleScore+"_order_2.png"),v=e.$lang("readyDelivery"),y=e.$util.img("upload/uniapp/member/index/order/"+e.themeStyleScore+"_order_3.png"),$=e.$lang("waitDelivery"),S=e.$util.img("upload/uniapp/member/index/order/"+e.themeStyleScore+"_order_4.png"),w=e.$lang("waitEvaluate"),x=e.$util.img("upload/uniapp/member/index/order/"+e.themeStyleScore+"_order_5.png"),_=e.$lang("refunding"),I=e.$util.img("upload/uniapp/member/index/member.png"),k=e.$util.img("upload/uniapp/member/index/v.png"),C=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_sign.png"),N=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_person.png"),D=e.$lang("personInfo"),T=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_address.png"),P=e.$lang("receivingAddress"),R=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_cash.png"),B=e.$lang("accountList"),L=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_discount.png"),O=e.$lang("couponList"),E=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_store.png"),M=e.$lang("mySpellList"),q=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_gift.png"),F=e.$lang("winningRecord"),G=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_like.png"),j=e.$lang("myCollection"),V=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_toot.png"),A=e.$lang("myTracks"),J=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_point_recond.png"),W=e.$lang("exchangeOrder"),z=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_verification.png"),H=e.$lang("verification"),K=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_fenxiao.png"),Q=e.$util.img("upload/uniapp/member/index/menu/"+e.themeStyleScore+"_bargain.png"),U=e.$lang("myBargain");e._isMounted||(e.e0=function(n){return e.$util.redirectTo("/pages/member/info/info")},e.e1=function(n){e.memberInfo.headimg=e.$util.getDefaultImage().default_headimg},e.e2=function(n){return e.$util.redirectTo("/otherpages/member/level/level")},e.e3=function(n){return e.$util.redirectTo("/pages/member/info/info")}),e.$mp.data=Object.assign({},{$root:{g0:t,g1:i,g2:o,g3:r,m0:a,m1:u,g4:m,m2:l,m3:c,m4:d,m5:s,m6:g,m7:f,g5:p,m8:h,g6:b,m9:v,g7:y,m10:$,g8:S,m11:w,g9:x,m12:_,g10:I,g11:k,g12:C,g13:N,m13:D,g14:T,m14:P,g15:R,m15:B,g16:L,m16:O,g17:E,m17:M,g18:q,m18:F,g19:G,m19:j,g20:V,m20:A,g21:J,m21:W,g22:z,m22:H,g23:K,g24:Q,m23:U}})},r=[];t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return i}))},"5e6f":function(e,n,t){"use strict";t.r(n);var i=t("cd3a"),o=t.n(i);for(var r in i)"default"!==r&&function(e){t.d(n,e,(function(){return i[e]}))}(r);n["default"]=o.a},8413:function(e,n,t){"use strict";(function(e){t("6b76");i(t("66fd"));var n=i(t("bfd7e"));function i(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"938c":function(e,n,t){"use strict";var i=t("3049"),o=t.n(i);o.a},bfd7e:function(e,n,t){"use strict";t.r(n);var i=t("489e"),o=t("5e6f");for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);t("938c");var a,u=t("f0c5"),m=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);n["default"]=m.exports},cd3a:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=u(t("4795")),o=u(t("4de2")),r=u(t("f688")),a=u(t("4c22"));function u(e){return e&&e.__esModule?e:{default:e}}function m(e,n,t,i,o,r,a){try{var u=e[r](a),m=u.value}catch(l){return void t(l)}u.done?n(m):Promise.resolve(m).then(i,o)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(i,o){var r=e.apply(n,t);function a(e){m(r,i,o,a,u,"next",e)}function u(e){m(r,i,o,a,u,"throw",e)}a(void 0)}))}}var c=function(){t.e("components/uni-grid/uni-grid").then(function(){return resolve(t("61a0"))}.bind(null,t)).catch(t.oe)},d=function(){t.e("components/uni-grid-item/uni-grid-item").then(function(){return resolve(t("93918"))}.bind(null,t)).catch(t.oe)},s=function(){t.e("components/diy-bottom-nav/diy-bottom-nav").then(function(){return resolve(t("10f0"))}.bind(null,t)).catch(t.oe)},g=function(){Promise.all([t.e("common/vendor"),t.e("components/ns-goods-recommend/ns-goods-recommend")]).then(function(){return resolve(t("ebb8"))}.bind(null,t)).catch(t.oe)},f=function(){t.e("components/toTop/toTop").then(function(){return resolve(t("336c"))}.bind(null,t)).catch(t.oe)},p=function(){t.e("components/ns-copyright/ns-copyright").then(function(){return resolve(t("b1c7"))}.bind(null,t)).catch(t.oe)},h={components:{uniGrid:c,uniGridItem:d,diyBottomNav:s,nsGoodsRecommend:g,toTop:f,nsCopyRight:p},data:function(){return{token:"",memberInfo:{balance:0,balance_money:0,point:0},couponNum:0,orderNum:{waitPay:0,readyDelivery:0,waitDelivery:0,waitEvaluate:0,refunding:0},isVerification:!0,copyrightLoad:0,bottom_info:{},authInfo:{is_verifier:!1},shopTop:!1,scrollTop:0,shopConfig:null,promoterInfo:null,withdrawConfig:null,fenxiaoBasicsConfig:null}},mixins:[o.default,r.default,a.default],onLoad:function(){e.hideTabBar()},onReady:function(){e.getStorageSync("token")||this.$refs.loadingCover&&this.$refs.loadingCover.hide()},onShow:function(){var n=this;return l(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.$langConfig.refresh(),n.token=e.getStorageSync("token"),e.getStorageSync("userInfo")&&(n.memberInfo=e.getStorageSync("userInfo")),e.getStorageSync("authInfo")&&(n.authInfo=e.getStorageSync("authInfo")),!n.token){t.next=14;break}return t.next=7,n.getMemberInfo();case 7:n.getOrderNum(),n.getCouponNum(),n.checkIsVerifier(),n.addonIsExit.memberwithdraw&&n.getWithdrawConfig(),n.addonIsExit.fenxiao&&n.getFenxiaoBasicsConfig(),t.next=15;break;case 14:n.initInfo();case 15:case"end":return t.stop()}}),t)})))()},methods:{redirectToLink:function(n){e.getStorageSync("token")?this.$util.redirectTo(n):this.$refs.login.open(n)},initInfo:function(){this.token="",this.memberInfo={balance:"0.00",balance_money:"0.00",point:0},this.couponNum=0,this.orderNum={waitPay:0,readyDelivery:0,waitDelivery:0,waitEvaluate:0,refunding:0},this.authInfo={is_verifier:!1},e.stopPullDownRefresh()},getMemberInfo:function(){var n=this;return l(i.default.mark((function t(){var o;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.$api.sendRequest({url:"/api/member/info",async:!1});case 2:o=t.sent,o.code>=0&&o.data?(n.token=e.getStorageSync("token"),n.memberInfo=o.data,e.setStorageSync("userInfo",n.memberInfo)):(n.token="",n.initInfo(),e.removeStorageSync("token"),e.removeStorageSync("userInfo")),e.stopPullDownRefresh();case 5:case"end":return t.stop()}}),t)})))()},onPullDownRefresh:function(){e.getStorageSync("token")?this.getMemberInfo():this.initInfo()},getOrderNum:function(){var e=this;this.$api.sendRequest({url:"/api/order/num",data:{order_status:"waitpay,waitsend,waitconfirm,waitrate,refunding"},success:function(n){0==n.code&&(e.orderNum.waitPay=n.data.waitpay,e.orderNum.readyDelivery=n.data.waitsend,e.orderNum.waitDelivery=n.data.waitconfirm,e.orderNum.waitEvaluate=n.data.waitrate,e.orderNum.refunding=n.data.refunding),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},getCouponNum:function(){var e=this;this.$api.sendRequest({url:"/coupon/api/coupon/num",success:function(n){0==n.code&&(e.couponNum=n.data)}})},checkIsVerifier:function(){var n=this;this.$api.sendRequest({url:"/api/verify/checkisverifier",success:function(t){t.data?n.authInfo.is_verifier=!0:n.authInfo.is_verifier=!1,e.setStorageSync("authInfo",n.authInfo)}})},jumpLevel:function(){this.token?this.$util.redirectTo("/otherpages/member/level/level"):this.$refs.login.open("/pages/member/index/index")},getWithdrawConfig:function(){var e=this;this.$api.sendRequest({url:"/api/memberwithdraw/config",success:function(n){n.code>=0&&n.data&&(e.withdrawConfig=n.data)}})},getFenxiaoBasicsConfig:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/config/basics",success:function(n){n.code>=0&&(e.fenxiaoBasicsConfig=n.data)}})}}};n.default=h}).call(this,t("543d")["default"])}},[["8413","common/runtime","common/vendor"]]]);